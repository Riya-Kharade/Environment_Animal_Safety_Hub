<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conservation Genetics | EcoLife</title>
    <meta name="description" content="Using genetic science to protect and restore endangered species populations.">
    <link rel="icon" type="image/png" href="../assets/images/others/FAVICON.png">

    <!-- CSS Files -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/components/navbar.css">
    <link rel="stylesheet" href="../css/components/footer.css">
    <link rel="stylesheet" href="../css/conservation-genetics.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Roboto+Slab:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>

<body>
    <!-- Scroll Progress -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <div id="navbar-container"></div>

    <!-- Theme Toggle Button -->
    <button id="themeToggle" class="theme-toggle" aria-label="Toggle Dark Mode" title="Toggle Dark Mode">
        <i class="fas fa-moon"></i>
    </button>

    <!-- DNA Strand Animation -->
    <div class="dna-animation" id="dnaAnimation"></div>

    <!-- Hero Section -->
    <section class="genetics-hero" id="geneticsHero">
        <div class="hero-content">
            <div class="hero-badge">
                <i class="fa-solid fa-dna"></i>
                <span>The Code of Life</span>
            </div>
            <h1 class="hero-title">
                <span class="gradient-text">Conservation</span> Genetics
            </h1>
            <p class="hero-subtitle">
                Protecting biodiversity by understanding and preserving genetic diversity
            </p>
            
            <button class="cta-button" id="exploreDna">
                <i class="fa-solid fa-microscope"></i>
                <span>Explore Genetic Data</span>
            </button>
        </div>
    </section>

    <!-- What is Conservation Genetics -->
    <section class="definition-section" id="definitionSection">
        <div class="section-container">
            <div class="section-header">
                <h2><i class="fa-solid fa-dna"></i> Genetic Guardianship</h2>
                <p>Using DNA to save species from extinction</p>
            </div>

            <div class="definition-content">
                <div class="definition-card" data-aos="fade-up">
                    <p class="definition-text">
                        Conservation genetics applies molecular techniques to preserve species as dynamic entities capable of coping with environmental change. It helps us understand population structures, genetic diversity, and evolutionary potential.
                    </p>
                    <div class="genetic-keypoints">
                        <div class="keypoint">
                            <i class="fa-solid fa-dna"></i>
                            <h4>Genetic Diversity</h4>
                            <p>Essential for species adaptation</p>
                        </div>
                        <div class="keypoint">
                            <i class="fa-solid fa-people-arrows"></i>
                            <h4>Gene Flow</h4>
                            <p>Maintaining population connections</p>
                        </div>
                        <div class="keypoint">
                            <i class="fa-solid fa-history"></i>
                            <h4>Evolutionary Potential</h4>
                            <p>Future adaptation capacity</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Applications -->
    <section class="applications-section" id="applicationsSection">
        <div class="section-container">
            <div class="section-header">
                <h2><i class="fa-solid fa-flask"></i> Genetic Applications</h2>
                <p>Real-world conservation solutions</p>
            </div>

            <div class="applications-grid">
                <div class="application-card" data-aos="fade-up">
                    <div class="app-icon">
                        <i class="fa-solid fa-fingerprint"></i>
                    </div>
                    <h3>DNA Barcoding</h3>
                    <p>Species identification from tiny tissue samples</p>
                </div>

                <div class="application-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="app-icon">
                        <i class="fa-solid fa-project-diagram"></i>
                    </div>
                    <h3>Population Genetics</h3>
                    <p>Understanding species relationships and diversity</p>
                </div>

                <div class="application-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="app-icon">
                        <i class="fa-solid fa-heartbeat"></i>
                    </div>
                    <h3>Disease Resistance</h3>
                    <p>Identifying genetic markers for disease resilience</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Success Stories -->
    <section class="stories-section" id="storiesSection">
        <div class="section-container">
            <div class="section-header">
                <h2><i class="fa-solid fa-star"></i> Genetic Success</h2>
                <p>Species saved through genetics</p>
            </div>

            <div class="stories-grid">
                <div class="story-card" data-aos="zoom-in">
                    <div class="story-icon">
                        <i class="fa-solid fa-dove"></i>
                    </div>
                    <h3>California Condor</h3>
                    <p>Genetic management saved from 22 to 500+ birds</p>
                </div>

                <div class="story-card" data-aos="zoom-in" data-aos-delay="100">
                    <div class="story-icon">
                        <i class="fa-solid fa-paw"></i>
                    </div>
                    <h3>Florida Panther</h3>
                    <p>Genetic rescue reversed inbreeding depression</p>
                </div>

                <div class="story-card" data-aos="zoom-in" data-aos-delay="200">
                    <div class="story-icon">
                        <i class="fa-solid fa-fish"></i>
                    </div>
                    <h3>Atlantic Salmon</h3>
                    <p>Genetic tracking improved fishery management</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Get Involved -->
    <section class="involvement-section" id="involvementSection">
        <div class="section-container">
            <div class="section-header">
                <h2><i class="fa-solid fa-handshake"></i> Get Involved</h2>
                <p>Contribute to genetic conservation</p>
            </div>

            <div class="involvement-content">
                <div class="involvement-card" data-aos="fade-up">
                    <h3><i class="fa-solid fa-dna"></i> How You Can Help</h3>
                    <div class="involvement-options">
                        <div class="option">
                            <i class="fa-solid fa-vial"></i>
                            <h4>Sample Collection</h4>
                            <p>Submit genetic samples from wildlife</p>
                        </div>
                        <div class="option">
                            <i class="fa-solid fa-laptop-code"></i>
                            <h4>Data Analysis</h4>
                            <p>Help analyze genetic sequences online</p>
                        </div>
                        <div class="option">
                            <i class="fa-solid fa-seedling"></i>
                            <h4>Habitat Protection</h4>
                            <p>Support genetic corridor conservation</p>
                        </div>
                    </div>
                    
                    <button class="action-btn">
                        <i class="fa-solid fa-heart"></i>
                        Support Genetic Research
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer placeholder -->
    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/pages/genetics.js"></script>
    <script src="../js/components/navbar-loader.js"></script>
    <script src="../js/components/footer-loader.js"></script>
    
    <!-- AOS Animation Library -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize AOS
            AOS.init({
                duration: 800,
                once: true,
                offset: 100
            });

            // Theme Toggle
            const themeToggle = document.getElementById('themeToggle');
            const body = document.body;
            
            const savedTheme = localStorage.getItem('theme') || 'light';
            if (savedTheme === 'dark') {
                body.classList.add('dark-theme');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
            
            themeToggle.addEventListener('click', () => {
                body.classList.toggle('dark-theme');
                const isDark = body.classList.contains('dark-theme');
                themeToggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            });

            // Create DNA animation
            const dnaAnimation = document.getElementById('dnaAnimation');
            const canvas = document.createElement('canvas');
            dnaAnimation.appendChild(canvas);
            const ctx = canvas.getContext('2d');
            
            function resizeCanvas() {
                canvas.width = dnaAnimation.clientWidth;
                canvas.height = dnaAnimation.clientHeight;
            }
            
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            class DNAStrand {
                constructor(x) {
                    this.x = x;
                    this.y = 0;
                    this.nodes = [];
                    this.phase = Math.random() * Math.PI * 2;
                    this.speed = 0.02 + Math.random() * 0.02;
                    
                    for (let i = 0; i < 20; i++) {
                        this.nodes.push({
                            y: i * 30,
                            radius: 10,
                            connected: i % 2 === 0
                        });
                    }
                }
                
                update(time) {
                    this.phase += this.speed;
                    this.nodes.forEach((node, i) => {
                        node.y += 1;
                        if (node.y > canvas.height + 50) {
                            node.y = -50;
                        }
                        node.radius = 8 + Math.sin(this.phase + i * 0.5) * 4;
                    });
                }
                
                draw() {
                    // Draw connections
                    ctx.strokeStyle = 'rgba(147, 51, 234, 0.3)';
                    ctx.lineWidth = 2;
                    
                    for (let i = 0; i < this.nodes.length - 1; i++) {
                        if (this.nodes[i].connected && this.nodes[i + 1].connected) {
                            ctx.beginPath();
                            ctx.moveTo(this.x, this.nodes[i].y);
                            ctx.lineTo(this.x, this.nodes[i + 1].y);
                            ctx.stroke();
                        }
                    }
                    
                    // Draw nodes
                    this.nodes.forEach(node => {
                        ctx.beginPath();
                        ctx.arc(this.x, node.y, node.radius, 0, Math.PI * 2);
                        ctx.fillStyle = node.connected ? 'rgba(147, 51, 234, 0.6)' : 'rgba(59, 130, 246, 0.6)';
                        ctx.fill();
                        
                        // Add glow effect
                        ctx.beginPath();
                        ctx.arc(this.x, node.y, node.radius * 1.5, 0, Math.PI * 2);
                        ctx.fillStyle = node.connected ? 'rgba(147, 51, 234, 0.1)' : 'rgba(59, 130, 246, 0.1)';
                        ctx.fill();
                    });
                }
            }
            
            const strands = [];
            for (let i = 0; i < 8; i++) {
                strands.push(new DNAStrand((i + 1) * (canvas.width / 9)));
            }
            
            function animateDNA() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const time = Date.now() * 0.001;
                
                strands.forEach(strand => {
                    strand.update(time);
                    strand.draw();
                });
                
                requestAnimationFrame(animateDNA);
            }
            
            animateDNA();

            // Explore DNA button
            const exploreBtn = document.getElementById('exploreDna');
            if (exploreBtn) {
                exploreBtn.addEventListener('click', () => {
                    alert('Opening genetic database explorer...');
                    // In real implementation: window.location.href = '/genetic-database';
                });
            }

            // Action button
            const actionBtn = document.querySelector('.action-btn');
            if (actionBtn) {
                actionBtn.addEventListener('click', () => {
                    alert('Redirecting to genetic research support page...');
                    // In real implementation: window.location.href = '/support-genetics';
                });
            }

            // Scroll progress
            window.addEventListener('scroll', () => {
                const scrollProgress = document.getElementById('scrollProgress');
                const windowHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (window.scrollY / windowHeight) * 100;
                scrollProgress.style.width = scrolled + '%';
            });
        });

        // Component loader
        document.addEventListener('DOMContentLoaded', function() {
            // Load Navbar
            fetch('../components/navbar.html')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to load navbar');
                    }
                    return response.text();
                })
                .then(data => {
                    document.getElementById('navbar-container').innerHTML = data;
                    if (typeof initNavbar === 'function') {
                        initNavbar();
                    }
                })
                .catch(error => {
                    console.error('Error loading navbar:', error);
                    document.getElementById('navbar-container').innerHTML = 
                        '<div style="padding: 20px; background: #f8d7da; color: #721c24;">Navbar failed to load</div>';
                });

            // Load Footer
            fetch('../components/footer.html')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to load footer');
                    }
                    return response.text();
                })
                .then(data => {
                    document.getElementById('footer-container').innerHTML = data;
                    if (typeof initFooter === 'function') {
                        initFooter();
                    }
                })
                .catch(error => {
                    console.error('Error loading footer:', error);
                    document.getElementById('footer-container').innerHTML = 
                        '<div style="padding: 20px; background: #f8d7da; color: #721c24; text-align: center;">Footer failed to load</div>';
                });
        });
    </script>
</body>
</html>